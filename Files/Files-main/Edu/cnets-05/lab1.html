<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Лабораторная работа N1 - Знакомство с ОС семейства Unix</title> <meta http-equiv="Content-Type" content="text/html">  <style>
.lab{
    
}
.title{

}
.section{

}
.subsection{
    font-family: Times, serif; text-align: justify; 
}
.p {
    margin-top: 10px; margin-bottom: 10px;
}
.subtitle{
    font-family: Tahoma, Arial, Helvetica, sans-serif;
    font-size: 14pt;
    margin-left: 4%;
    margin-top: 30px;
}
.exercise{
    font-family: Times, serif; 
}
.output{
    font-family: Courier, monospace; margin-left: 5%;
}
.sample{
    margin-left: 5%; 
    margin-right:5%;
}

 .texttitle1 { font-size: 18pt; color: #0066dd; font-family: arial narrow } .texttitle2 { font-size: 16pt; color: #0066dd; font-family: arial narrow } .textstyle { font-size: 100%; color: #425068; line-height: 130%; font-family: ms sans serif,verdana, times; background-color: #ffffff } </style>   <link href="lab1_files/labs.css" rel="stylesheet" type="text/css"></head> <body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td><a name="top"></a>  <div style="margin-left: 50px; margin-top: 50px;"> <span style="color: rgb(66, 80, 104); margin-left: 5px; margin-right: 5px;">HighArt.ru</span>/<span style="color: rgb(66, 80, 104); margin-left: 5px; margin-right: 5px;">Для студентов</span>/<span style="color: rgb(66, 80, 104); margin-left: 5px; margin-right: 5px;">Компьютерные сети</span> </div> <p style="margin-left: 105px; margin-top: 50px;"> <span class="texttitle1">Знакомство с ОС семейства Unix</span></p>   <span class="texttitle2"><p style="margin-left: 105px;">Упражнения</p></span>  <div style="margin-left: 5%; margin-right: 10%;" align="justify"> <span class="TextStyle">  <div class="exercise"> I,II(*). Подключение к удаленному серверу по протоколу SSH (из классов LOS-1,2). <ol> <li>Войдите в систему под именем группы(s21 или s22).</li> <li>Завершите процесс bp7.exe.</li> <li>Запустите клиент Putty.</li> <li>Введите имя сервера: losfs.</li> <li>Выберите протокол доступа: SSH.</li> <li>Нажмите кнопку "Open".</li> <li>Если программа спросит, доверяете ли вы серверу, к которому подключаетесь, нажмите "Yes".</li> <li>Введите логин (s21 или s22).</li> <li>Введите соответствующий пароль (вводимые буквы не отображаются на экране).</li> <li>Выполните
команду: "ssh -l login sun.mmf.rsu.ru" (вместо "login" введите логин,
выданный лично Вам преподавателем) и после соответствующего запроса
введите пароль. </li> <li>Если программа спросит, доверяете ли вы серверу, к которому подключаетесь, введите "yes".</li> </ol> I. Подключение к удаленному серверу по протоколу SSH. <ol> <li>Запустите клиент Putty.</li> <li>Введите имя сервера.</li> <li>Выберите протокол доступа: SSH.</li> <li>Нажмите кнопку "Open".</li> <li>Если программа спросит, доверяете ли вы серверу, к которому подключаетесь, нажмите "Yes".</li> </ol> II. Пользователи, группы пользователей, пароли, домашние каталоги. <ol> <li>Введите имя пользователя.</li> <li>Введите пароль (он не отображается на экране), поэтому его нужно вводить очень внимательно.</li> <li>При
успешной аутентификации появится командная строка, в которой можно
вводить команды и запускать необходимые программы. Выполните в ней
команду "date" (для этого нужно ввести слово date и нажать клавишу
Enter, в дальнейшем все команды следует выполнять именно так).
Результатом ее работы будет строка с текущей датой и временем (дата и
время, установленные на сервере).</li> </ol> III. Основные файловые операции. <ol> <li>Определите имя текущего каталога (pwd).</li> <li>Определите текущее время и дату на сервере (date).</li> <li>Перейдите в родительский каталог (cd ..).</li> <li>Просмотрите его содержимое разными способами (ls -a, ls -F, ls -l).</li> <li>Перейдите в корневой каталог (cd /) и просмотрите его содержимое.</li> <li>Просмотрите содержимое каталога /usr/local, не переходя в него.</li> <li>Вернитесь в домашний каталог (cd).</li> <li>Создайте подкаталог "A" (mkdir A) и перейдите в него.</li> <li>Создайте файл "my" (touch my).</li> <li>Введите в созданный файл Ваши фамилию, имя, номер группы и курса, используя только латинские буквы (cat &gt;my, ... , Ctrl-D).</li> <li>Просмотрите содержимое вновь созданного файла.</li> <li>Добавьте в этот файл название улицы, на которой вы живете (cat &gt;&gt;my, ... , Ctrl-D).</li> <li>Убедитесь, что новая информация добавлена в файл.</li> <li>Создайте файл temp и запишите туда все известные Вам цифры.</li> <li>Удалите файл temp.</li> <li>Создайте подкаталог Temp и перейдите в него.</li> <li>Создайте файл ttt5349.</li> <li>Перейдите в родительский каталог.</li> <li>Попытайтесь удалить каталог Temp (rmdir Temp) и объясните результат.</li> <li>Удалите каталог Temp.</li> <li>Просмотрите файл /etc/passwd со списком всех пользователей, зарегистрированных в системе (less /etc/passwd).</li> <li>Попытайтесь удалить файл /etc/passwd.</li> <li>Скопируйте файл /etc/passwd к себе в каталог и попытайтесь его удалить из своего каталога.</li> </ol> IV. Права доступа к файлам. <ol> <li>Посмотрите права доступа к файлам в каталоге /etc и объясните результаты упражнений 22 и 23 из предыдущего раздела.</li> <li>Создайте файл info.txt и определите права доступа, установленные по умолчанию.</li> <li>Измените
права доступа к файлу info.txt так, чтобы владелец не имел никаких
прав, а все остальные пользователи (в т.ч. и группа) могли бы только
читать.</li> <li>Попытайтесь добавить текст в файл и объясните результат.</li> <li>Установите владельцу файла info.txt все права на него, группе предоставьте право на чтение, у всех остальных снимите все права.</li> <li>Создайте в своем каталоге файл students и предоставьте группе права на запись в него.</li> <li>Добавьте свой логин в несколько файлов students из каталогов своих коллег.</li> </ol> V. Система справочной документации man. <ol> <li>Посмотрите справку по команде man ("man man").</li> <li>Сохраните информацию по команде cat в файле cat.info ("man cat &gt; cat.info").</li> <li>Просмотрите файл cat.info.</li> <li>Изучите форматы вызова команд ls, cd, chmod.</li> </ol> VI. Управление процессами. <ol> <li>Выполните
команду "cat &gt; file", введите несколько строк и нажмите Ctrl-Z (это
переведет процесс в фоновый режим и даст возможность вводить другие
команды).</li> <li>Найдите приостановленный процесс cat в списке запущенных процессов (ps) и определите его номер.</li> <li>Завершите работу процесса cat (kill).</li> <li>Изучите форматы вызова команд ps и killall ("man ps", "man killall").</li> </ol> </div>  </span> </div>   <span class="texttitle2"><p style="margin-left: 105px;">Вспомогательные материалы</p></span>  <div style="margin-left: 5%; margin-right: 10%;" align="justify"> <span class="TextStyle">  <div class="subsection"> <div class="subtitle">I. Подключение к удаленному серверу по протоколу SSH. </div> <div class="p">
Многие сервера поддерживают возможность подключения к ним
зарегистрированных пользователей с целью выполнения команд и запуска
программ. При таком подключении команды, вводимые пользователем,
выполняются непосредственно на удаленном сервере, а их результаты
возвращаются пользователю. Это взаимодействие обычно происходит в
консольном режиме, т.е. и команды, и их результаты - это строки текста,
передающиеся по сети. </div> <div class="p"> Одним из протоколов,
реализующих удаленные подключения, является протокол SSH. На сервере
должна работать специальная программа "демон SSH", ожидающая
подключения. Клиент может использовать любую программу, реализующую
клиентскую часть протокола SSH, например, программу "Putty". В
операционных системах семейства Unix для той же цели может
использоваться встроенный клиент ssh (для подключения достаточно
выполнить команду "ssh -l логин_пользователя имя_сервера", дальнейшие
действия аналогичны описываемым ниже, начиная со ввода пароля). </div> <div class="p">
При запуске программы "Putty" следует указать имя сервера (Hostname), к
которому необходимо подключиться, и выбрать протокол доступа, после
чего нажать кнопку "Open". В этот момент наш клиент попытается
подключиться к серверу, и если все пройдет успешно, то будет предложено
ввести имя пользователя и пароль. </div> </div> <div class="subsection"> <div class="subtitle">II. Пользователи, группы пользователей, пароли, домашние каталоги.</div> <div class="p">
Все операционные системы семейства Unix являются
многопользовательскими. Это означает, что с системой могут работать
разные пользователи. Для того чтобы одни пользователи не могли влиять
на работу других, используются схемы разграничения доступа к системе
(например, к файлам и каталогам). </div> <div class="p"> В начале
работы с системой пользователь должен аутентифицироваться, т.е. указать
свое имя (login) и пароль (password), это необходимо для того, чтобы
система была уверена, что подключающийся пользователь является именно
тем, за кого он себя выдает. Пароль обычно выдавается пользователю при
регистрации, причем пользователь имеет возможность его сменить. Можно
также использовать аутентификацию по кредитной карте, отпечаткам
пальцев, клавиатурному почерку, голосу и пр. После прохождения
аутентификации наступает фаза авторизации, в ходе которой пользователь
получает возможность работать с системой. </div> <div class="p"> Для
удобства администрирования систем пользователи объединяются в группы. В
результате можно настраивать параметры работы не для каждого
конкретного пользователя (а их может быть очень много), а для группы в
целом. Кроме того, пользователь может открыть доступ к своим документам
другим пользователям своей группы и ограничить доступ со стороны
остальных пользователей системы. </div> <div class="p"> Каждый
пользователь имеет домашний каталог, в которм он может создавать,
хранить, удалять свои собственные файлы и каталоги. Этот каталог может
быть недоступен никому другому в системе, а может быть открыт для всех.
</div> <div class="p"> Среди всех пользователей системы выделяется один
самый главный пользователь (Super-user, root, администратор). Он имеет
права на все независимо от установленных другими пользователями
ограничений. </div> </div> <div class="subsection"> <div class="subtitle">III. Основные файловые операции.</div> <div class="p">
В каждый момент времени пользователь находится в некотором каталоге
(directory) файловой системы. Этот каталог называется текущим. В начале
сеанса работы текущим обычно является домашний каталог пользователя.
Имя текущего каталога можно узнать, выполнив команду "pwd". Она
возвращает абсолютное имя текущего каталога. </div> <div class="p">
Устройство файловой системы в ОС семейства Unix отличается от DOS. В
частности здесь отсутствует понятие логического диска (C:, D:). Все
носители информации подключаются ("монтируются") к общему дереву
каталогов. Корень этого дерева обозначается символом "/" ("слэш") и
называется корневым каталогом. </div> <div class="p"> Имя файла или
каталога называется абсолютным, если начинается с этого символа. Как и
в DOS имя файла содержит путь к нему, т.е. последовательность вложенных
друг в друга каталогов, например, имя "/home/bravit/a.txt" означает,
что файл "a.txt" находится в каталоге "bravit", который в свою очередь
является подкаталогом каталога "home" из корневого каталога. Обратите
внимание, что имена каталогов разделяются тем же символом "/". </div> <div class="p">
Кроме абсолютного имени можно также использовать относительное (т.е.
имя относительно текущего каталога). Например, если текущим является
каталог "/home/bravit", то относительным именем нашего файла будет
"a.txt"; а если текущий каталог "/home", то относительное имя -
"bravit/a.txt". В относительных именах можно использовать псевдоним
".." для обозначения родительского каталога. Так в каталоге
"/home/bravit" ".." будет обозначать каталог "/home", а "../.." -
корневой каталог системы (родительский родительского каталона). В
именах файлов и каталогов существенен регистр букв, поэтому файлы "abc"
и "Abc" считаются разными и могут существовать в каталоге одновременно.
</div> <div class="p"> Для изменения текущего каталога служит команда
"cd" (Change Directory). Если запустить ее без параметров, то текущим
станет домашний каталог пользователя. В качестве параметра можно
указать имя любого каталога, и, если он существует, то станет текущим.
Например, команда "cd .." (обратите внимание на пробел после имени
команды и перед параметром) сделает текущим родительский каталог. </div> <div class="p">
Просмотреть содержимое каталога можно командой "ls" (list - список). В
простейшем случае она выдает список файлов и каталогов, содержащихся в
текущем каталоге. Если в качестве параметра указать имя каталога, то
будет выведено его содержимое ("ls /usr/local/"). </div> <div class="p">
Большинство команд Unix позволяют указывать опции, влияющие на
выполнение команды. Опции обычно пишутся после имени команды и
начинаются с символа "-". Каждая опция может иметь относящиеся к ней
параметры. </div> <div class="p"> Для вывода содержимого текущего каталога с указанием типа файла нужно выполнить команду "ls -F". Вот пример ее работы: <div class="output">get* task w1/ w2/</div> </div> <div class="p"> Тип файла определяется по символу, следующему за его именем: <div class="sample"> * - файл является исполняемым, т.е. его можно выполнить<br> / - каталог (каталоги в Unix считаются файлами особого типа)<br> </div> Если никакого символа после имени нет, то файл считается обычным файлом данных ("regular"). </div> <div class="p">
Опция "-a" команды ls позволяет выводить скрытые файлы (их имена
начинаются с точки). Опции можно комбинировать, так команда "ls -aF"
выведет все файлы (в том числе и скрытые) с указанием их типа. Команда
"ls -l" выводит подробную информацию о каждом файле (тип, размер, дата
модификации и пр.). </div> <div class="p"> Далее приведены короткие
описания основных команд для работы с файлами (вместо используемого в
примерах имени file можно использовать любое другое). <div class="sample"> "mkdir имя_каталога" - создание каталога с указанным именем<br> "cp file dir" - копирование файла file в каталог dir<br> "mv file dir" - перемещение файла file в каталог dir<br> "rmdir dir" - удаление каталога dir (он должен быть пустым)<br> "rm file" - удаление файла file<br> "touch file" - создание файла с именем file<br> "cat file" - вывод содержимого файла на экран<br> "less file" - более удобный способ просмотра содержимого файла (для завершения команды следует нажать клавишу "q")<br> </div> </div> <div class="p">
Для заполнения файла некотрым текстом можно использовать команду "cat
&gt; file", после чего построчно вводить необходимое содержимое. В
конце следует нажать Ctrl-D, и вся введенная информация окажется в
файле. В этом можно убедиться, например, командой "cat file". </div> <div class="p"> Во время ввода команд удобно пользоваться следующими возможностями интерпретатора команд: <br> 1. Клавиши вверх/вниз позволяют выбирать ранее введенные команды.<br> 2. Клавиша Tab дополняет введенное начало имени файла или каталога до полного имени, если такое имя существует.<br>
3. Символ "*" обозначает "все файлы". Его удобно использовать для
удаления всех файлов каталога "rm *", но делать это нужно осторожно. </div> </div> <div class="subsection"> <div class="subtitle">IV. Права доступа к файлам.</div> <div class="p">
Каждый файл принадлежит некоторому пользователю, который называется
владельцем файла. Кроме того существует понятие владельца-группы,
которая не обязательно совпадает с группой пользователя.
Пользователь-владелец файла может упралять доступом к нему посредством
указания прав доступа для себя, для пользователей из группы-владельца и
для всех остальных пользователей системы. Различают три основных права
доступа к файлу: <div class="sample"> право на чтение (r, Read),<br> право на запись (w, Write),<br> право на выполнение (x, eXecute). </div> </div> <div class="p">
Для обычных файлов эти права означают возможность просматривать и
изменять содержимое файлов, а также запускать их на выполнение (если
файл является программой, право на выполнение это отдаленный аналог
расширения ".exe" в системах типа DOS для исполняемых файлов). </div> <div class="p">
Право на чтение каталога позволяет узнать список имен (и только имен)
файлов, содержащихся в каталоге. Для перехода в каталог или получения
подробной информации о его содержимом требуется право на выполнение.
Право на запись в каталог означает возможность создания и удаления
файлов в этом каталоге (независимо от прав доступа к этим файлам). </div> <div class="p">
Три вида прав доступа к файлам устанавливаются независимо для всех трех
категорий пользователей (владелец, группа, все остальные). Рассмотрим
подробно пример вывода команды "ls -l": <div class="output"> -rwx------ 1 bravit bravit 54 Feb 26 2004 get<br> -r--r--r-- 1 bravit bravit 697 Feb 26 2004 task<br> drwxr-xr-x 2 bravit bravit 512 Mar 10 2004 w1<br> drwxr-xr-- 2 bravit bravit 512 Mar 10 2004 w2<br> </div> </div> <div class="p">
В первом столбце вывода указаны тип файла и права доступа к нему.
Первый символ обозначает тип файла (d - каталог), после которого идут
признаки прав доступа для трех категорий (по три символа на каждую,
прочерк означает отсутствие соответствующего права): <div class="sample"> <span class="output">rwxr-xr-x</span> — владелец имеет все права, а все остальные могут читать и выполнять, но не могут записывать<br> <span class="output">r--r--r--</span> — все имеют только право на чтение<br> <span class="output">rwxr-xr--</span> — у владельца все права, у группы - чтение и выполнение, у всех остальных - только чтение </div>
В третьем и четвертом столбцах указаны имена пользователя и группы
владельцев, в пятом - размер файла (в байтах), далее идет дата
последней модификации и имя файла. </div> <div class="p"> Для смены прав доступа используется команда "chmod". Она вызывается с указанием следующих параметров: <div class="sample"> chmod действия имя_файла </div> Для записи действий с правами доступа используются следующие символьные обозначения: <div class="sample"> <ul> <li>категории пользователей:<br> u (владелец - user)<br> g (группа - group)<br> o (остальные - other)<br> a (все - all)<br></li> <li>возможные действия:<br> + (добавить право)<br> - (снять право)<br> = (установить право)<br></li> <li>права: r,w,x</li> </ul> </div> </div> <div class="p"> Примеры: <div class="sample"> "chmod u+x file" - добавить владельцу право на выполнение<br> "chmod o-r file" - снять право на чтение у остальных<br> "chmod go-rwx file" - снять все права у группы и остальных<br> "chmod go=rx file" - установить группе и остальным права на чтение и выполнение без права записи<br> "chmod a=rwx file" - установить всем все права<br> "chmod ug-w file" - снять права на запись владельцу и группе </div> </div> <div class="p">
Также можно одновременно установить все права доступа с помощью
трехзначного восьмеричного значения, каждый бит которого несет
информацию о наличии или отсутствии соответствующего права, например: <div class="output"> "chmod 755 file" - 755 = 111101101 = rwxr-xr-x<br> "chmod 640 file" - 640 = 110100000 = rw-r-----<br> "chmod 700 file" - 700 = 111000000 = rwx------ </div> </div> </div> <div class="subsection"> <div class="subtitle">V. Система справочной документации man.</div> <div class="p"> Существуют несколько возможностей узнать некоторую информацию о команде. Если известно имя команды, то достаточно выполнить: <div class="sample"> "man имя_команды" </div> Можно организовать поиск по ключевому слову: <div class="sample"> "man -k search" - выдает список команд, в описании которых присутствует слово "search". </div>
Система документации состоит из нескольких разделов, обычно номер
раздела указывается в скобках после имени команды ("man(1)",
"malloc(3)"). Если одно и то же имя встречается в нескольких разделах,
то обратиться к конкретному разделу можно так: <div class="sample"> "man 2 accept" </div> </div> </div> <div class="subsection"> <div class="subtitle">VI. Управление процессами.</div> <div class="p">
Процесс - это выполняющаяся в системе программа. Одна программа может
использовать один процесс, а может и порождать несколько процессов.
Всякий процесс характеризуется идентификатором (номером) и польвателем,
его запустившим. Этот пользователь называется владельцем процесса.
Пользователь ответственен за запущенные им процессы, в частности, при
завершении работы с системой пользователь должен их все завершить. </div> <div class="p">
Для управления процессами обычно используются команды ps и kill.
Команда ps (process status) выдает список всех процессов, запущенных
данным пользователем с данного терминала (т.е. в текущем сеансе работы
с клиентом удаленного доступа). Один из столбцов вывода этой команды -
идентификатор процесса. Его можно использовать для завершения работы
процесса командой kill: <div class="sample"> "kill 5467" - завершает работу процесса с номером 5467, при условии что пользователь имеет на это право. </div> </div> </div> </span></div>     <div style="margin-right: 10%; text-align: right; margin-top: 30px;"> В.Н.Брагилевский<br>11.02.05 </div>   </td></tr><tr></tr></tbody></table> </body></html>